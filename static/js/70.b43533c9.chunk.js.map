{"version":3,"file":"static/js/70.b43533c9.chunk.js","mappings":"4OA2DA,EAnDa,WACT,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KAgCA,OA9BAC,EAAAA,EAAAA,UAAS,UAAD,iBAAW,8GACQC,MACnB,4FACA,CACIC,QAAS,CACL,eAAgB,sBALb,cACTC,EADS,gBASMA,EAASC,OATf,cASTC,EATS,OAUTC,EAAWD,EAAOE,kBAVT,SAWSN,MAAM,kEAAD,OACyCK,EAASE,KACvE,MAEJ,CACIN,QAAS,CACL,eAAgB,sBAjBb,cAWTO,EAXS,iBAqBOA,EAAUL,OArBjB,QAqBTM,EArBS,OAuBTC,EAAeD,EAAQZ,OAAOc,KAAI,YACpC,MAAO,CAAEC,GAD6C,EAAfA,GAC1BC,KADyC,EAAXA,SAI/Cf,EAAUY,GA3BK,8CA+Bf,iBAAKI,UAAU,OAAf,WACI,2CACCjB,EAAOkB,QACJ,eAAID,UAAU,YAAd,SACKjB,EAAOc,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAP,OACR,eAAaC,UAAU,QAAvB,UACI,SAAC,KAAD,CAAME,GAAE,UAAKJ,GAAb,SAAoBC,KADfD,SAMjB,SAACK,EAAA,EAAD","sources":["routes/Main/Main.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { Spinner } from '../../components/Spinner/Spinner';\nimport type { IEvent } from '../../typings';\n\nimport './Main.scss';\n\nconst Main = () => {\n    const [events, setEvents] = useState([]);\n\n    useQuery('events', async () => {\n        const response = await fetch(\n            'https://cors-anywhere.herokuapp.com/api.smarkets.com/v3/popular/event_ids/sport/football/',\n            {\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            }\n        );\n        const result = await response.json();\n        const eventIds = result.popular_event_ids;\n        const response2 = await fetch(\n            `https://cors-anywhere.herokuapp.com/api.smarkets.com/v3/events/${eventIds.join(\n                ','\n            )}`,\n            {\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            }\n        );\n        const result2 = await response2.json();\n        // @ts-ignore\n        const parsedResult = result2.events.map(({ id, name }) => {\n            return { id, name };\n        });\n\n        setEvents(parsedResult);\n    });\n\n    return (\n        <div className=\"Main\">\n            <h3>Popular events</h3>\n            {events.length ? (\n                <ul className=\"EventList\">\n                    {events.map(({ id, name }) => (\n                        <li key={id} className=\"Event\">\n                            <Link to={`${id}`}>{name}</Link>\n                        </li>\n                    ))}\n                </ul>\n            ) : (\n                <Spinner />\n            )}\n        </div>\n    );\n};\n\nexport default Main;\n"],"names":["useState","events","setEvents","useQuery","fetch","headers","response","json","result","eventIds","popular_event_ids","join","response2","result2","parsedResult","map","id","name","className","length","to","Spinner"],"sourceRoot":""}